

params {

    samplesheet = ''
    downsample = true
    output_path = './'
    cluster = false
}

profiles {
    standard {
        process.executor = 'local'
        docker.enabled = false
        singularity.enabled = false
        apptainer.enabled = false
    }

    singularity {
        docker.enabled = false
        singularity.enabled = true
        apptainer.enabled = false
        process.container = { "${projectDir}/envs/images/seurat.sif" }
        process.executor = 'local'
    }

    docker {
        docker.enabled = true
        singularity.enabled = false
        apptainer.enabled = false
        process.container = { "${projectDir}/envs/images/seurat.sif" }
        process.executor = 'local'
    }

    apptainer {
        docker.enabled = false
        singularity.enabled = false
        apptainer.enabled = true
        process.container = { "${projectDir}/envs/images/seurat.sif" }
        process.executor = 'local'
    }

    oscer {
        process.executor = 'slurm'
        docker.enabled = false
        singularity.enabled = false
        apptainer.enabled = true
        process.container = { "${projectDir}/envs/images/seurat.sif" }
        process.errorStrategy = 'ignore'
        proccess.maxRetries = 3
        process.memory = { 16.GB * ( 1 + task.attempt) }
        process.cpus = 10
        process.time = { 15.m *  (1 + task.attempt) }
    }
}

